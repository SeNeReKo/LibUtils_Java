<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//">
<html>
<head>
<meta name="generator" content="JavaDoq 1.0 - DOCUment JAVA In Source" charset='utf-8'>
<title>JavaDoq: de.general.cfg.LogCfg.java</title>
<link rel ="stylesheet" type="text/css" href="../../../stylesheet.css" title="style">
</head>
<body>
<table id="header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="20%">&nbsp;</td>
<td align="center" colspan="2" width="60%">
<font size="4"><a href="http://www.javadoq.com" target="_blank">JavaDoq</a>: LogCfg.java</font>
</td>
<td align="right" colspan="2" width="20%">&nbsp;</td>
</tr>
</table>
<pre id="java-source">
<font id="line-number">01 </font><a name="1"></a><font id="package">package</font> <a href="../../../package.de.general.cfg.html" target="package-frame"><font id="identifier">de</font><font id="dot">.</font><font id="identifier">general</font><font id="dot">.</font><font id="identifier">cfg</font></a><font id="semi-colon">;</font>
<font id="line-number">02 </font><a name="2"></a>
<font id="line-number">03 </font><a name="3"></a>
<font id="line-number">04 </font><a name="4"></a><font id="import">import</font> <font id="identifier">java</font><font id="dot">.</font><font id="identifier">io</font><font id="dot">.</font><font id="star">*</font><font id="semi-colon">;</font>
<font id="line-number">05 </font><a name="5"></a><font id="import">import</font> <font id="identifier">java</font><font id="dot">.</font><font id="identifier">util</font><font id="dot">.</font><font id="star">*</font><font id="semi-colon">;</font>
<font id="line-number">06 </font><a name="6"></a>
<font id="line-number">07 </font><a name="7"></a><font id="import">import</font> <a href="../../../package.de.general.log.html" target="package-frame"><font id="identifier">de</font><font id="dot">.</font><font id="identifier">general</font><font id="dot">.</font><font id="identifier">log</font><font id="dot">.</font><font id="star">*</font></a><font id="semi-colon">;</font>
<font id="line-number">08 </font><a name="8"></a><font id="import">import</font> <a href="../../../package.de.general.util.html" target="package-frame"><font id="identifier">de</font><font id="dot">.</font><font id="identifier">general</font><font id="dot">.</font><font id="identifier">util</font><font id="dot">.</font><font id="star">*</font></a><font id="semi-colon">;</font>
<font id="line-number">09 </font><a name="9"></a><font id="import">import</font> <a href="../../../package.de.general.io.html" target="package-frame"><font id="identifier">de</font><font id="dot">.</font><font id="identifier">general</font><font id="dot">.</font><font id="identifier">io</font><font id="dot">.</font><font id="star">*</font></a><font id="semi-colon">;</font>
<font id="line-number">10 </font><a name="10"></a>
<font id="line-number">11 </font><a name="11"></a>
<font id="line-number">12 </font><a name="12"></a><font id="public">public</font> <font id="class">class</font> <a name="de.general.cfg.LogCfg"></a><font id="identifier">LogCfg</font>
<font id="line-number">13 </font><a name="13"></a><font id="left-brace">{</font>
<font id="line-number">14 </font><a name="14"></a>
<font id="line-number">15 </font><a name="15"></a>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">16 </font><a name="16"></a></font>    <font id="single-line-comment">// Constants
<font id="line-number">17 </font><a name="17"></a></font>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">18 </font><a name="18"></a></font>
<font id="line-number">19 </font><a name="19"></a>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">20 </font><a name="20"></a></font>    <font id="single-line-comment">// Variables
<font id="line-number">21 </font><a name="21"></a></font>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">22 </font><a name="22"></a></font>
<font id="line-number">23 </font><a name="23"></a>    <font id="identifier">String</font> <font id="identifier">globalLogDir</font><font id="semi-colon">;</font>
<font id="line-number">24 </font><a name="24"></a>    <font id="identifier">String</font> <font id="identifier">name</font><font id="semi-colon">;</font>
<font id="line-number">25 </font><a name="25"></a>    <font id="int">int</font> <font id="identifier">logLevel</font><font id="semi-colon">;</font>
<font id="line-number">26 </font><a name="26"></a>    <font id="identifier">String</font> <font id="identifier">logFileName</font><font id="semi-colon">;</font>
<font id="line-number">27 </font><a name="27"></a>    <font id="boolean">boolean</font> <font id="identifier">bDebugLogCalls</font><font id="semi-colon">;</font>
<font id="line-number">28 </font><a name="28"></a>    <font id="int">int</font> <font id="identifier">logRotation</font><font id="semi-colon">;</font>
<font id="line-number">29 </font><a name="29"></a>    <font id="boolean">boolean</font> <font id="identifier">bCompressLogAfterRotation</font><font id="semi-colon">;</font>
<font id="line-number">30 </font><a name="30"></a>    <font id="identifier">String</font> <font id="identifier">moveToDirAfterRotationDirPath</font><font id="semi-colon">;</font>
<font id="line-number">31 </font><a name="31"></a>    <font id="boolean">boolean</font> <font id="identifier">bAdditionalyPrintToStdOut</font><font id="semi-colon">;</font>
<font id="line-number">32 </font><a name="32"></a>    <a href="../../../de/general/log/ILogInterface.java.html" target="source-frame"><font id="identifier">ILogInterface</font></a> <font id="identifier">defaultStdOutLogger</font><font id="semi-colon">;</font>
<font id="line-number">33 </font><a name="33"></a>
<font id="line-number">34 </font><a name="34"></a>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">35 </font><a name="35"></a></font>    <font id="single-line-comment">// Constructors
<font id="line-number">36 </font><a name="36"></a></font>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">37 </font><a name="37"></a></font>
<font id="line-number">38 </font><a name="38"></a>    <font id="protected">protected</font> <font id="identifier">LogCfg</font><font id="left-paren">(</font><a href="AbstractConfigurationReader.java.html" target="source-frame"><font id="identifier">AbstractConfigurationReader</font></a> <font id="identifier">cfgBase</font><font id="comma">,</font> <font id="identifier">String</font> <font id="identifier">section</font><font id="comma">,</font> <font id="identifier">String</font> <font id="identifier">keyBase</font><font id="comma">,</font> <font id="identifier">String</font> <font id="identifier">globalLogDir</font><font id="comma">,</font>
<font id="line-number">39 </font><a name="39"></a>        <a href="../../../de/general/log/ILogInterface.java.html" target="source-frame"><font id="identifier">ILogInterface</font></a> <font id="identifier">defaultStdOutLogger</font><font id="right-paren">)</font> <font id="throws">throws</font> <font id="identifier">IOException</font>
<font id="line-number">40 </font><a name="40"></a>    <font id="left-brace">{</font>
<font id="line-number">41 </font><a name="41"></a>        <font id="this">this</font><font id="dot">.</font><font id="identifier">defaultStdOutLogger</font> <font id="assign">=</font> <font id="identifier">defaultStdOutLogger</font><font id="semi-colon">;</font>
<font id="line-number">42 </font><a name="42"></a>        <font id="this">this</font><font id="dot">.</font><font id="identifier">name</font> <font id="assign">=</font> <font id="identifier">section</font> <font id="plus">+</font> <font id="string-literal">"-"</font> <font id="plus">+</font> <font id="identifier">keyBase</font><font id="semi-colon">;</font>
<font id="line-number">43 </font><a name="43"></a>        <font id="this">this</font><font id="dot">.</font><font id="identifier">globalLogDir</font> <font id="assign">=</font> <font id="identifier">globalLogDir</font><font id="semi-colon">;</font>
<font id="line-number">44 </font><a name="44"></a>
<font id="line-number">45 </font><a name="45"></a>        <font id="identifier">logLevel</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getLogLevel</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".logLevel"</font><font id="comma">,</font> <a href="../../../de/general/log/EnumLogLevel.java.html#de.general.log.EnumLogLevel.DEBUG" target="source-frame"><font id="identifier">EnumLogLevel</font><font id="dot">.</font><font id="identifier">DEBUG</font></a><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">46 </font><a name="46"></a>        <font id="identifier">logFileName</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getStringE</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".logFileName"</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">47 </font><a name="47"></a>        <font id="identifier">bDebugLogCalls</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getBooleanE</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".debugLogCalls"</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">48 </font><a name="48"></a>        <font id="identifier">logRotation</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getLogRotationValue</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".logRotation"</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">49 </font><a name="49"></a><font id="single-line-comment">//      if (logRotation &lt; 0) log.warn("No log rotation for framework log enabled!");
<font id="line-number">50 </font><a name="50"></a></font>        <font id="identifier">bCompressLogAfterRotation</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getBooleanE</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".enableCompressionAfterRotation"</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">51 </font><a name="51"></a>        <font id="identifier">moveToDirAfterRotationDirPath</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getString</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".moveToDirAfterRotationDirPath"</font><font id="comma">,</font> <font id="null">null</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">52 </font><a name="52"></a>        <font id="identifier">bAdditionalyPrintToStdOut</font> <font id="assign">=</font> <font id="identifier">cfgBase</font><font id="dot">.</font><font id="identifier">getBoolean</font><font id="left-paren">(</font><font id="identifier">section</font><font id="comma">,</font> <font id="identifier">keyBase</font> <font id="plus">+</font> <font id="string-literal">".additionalyPrintToStdOut"</font><font id="comma">,</font> <font id="false">false</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">53 </font><a name="53"></a>    <font id="right-brace">}</font>
<font id="line-number">54 </font><a name="54"></a>
<font id="line-number">55 </font><a name="55"></a>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">56 </font><a name="56"></a></font>    <font id="single-line-comment">// Methods
<font id="line-number">57 </font><a name="57"></a></font>    <font id="single-line-comment">////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
<font id="line-number">58 </font><a name="58"></a></font>
<font id="line-number">59 </font><a name="59"></a>    <font id="public">public</font> <a href="../../../de/general/log/ILogInterface.java.html" target="source-frame"><font id="identifier">ILogInterface</font></a> <a name="de.general.cfg.LogCfg.createLogger"></a><font id="identifier">createLogger</font><font id="left-paren">(</font><font id="right-paren">)</font> <font id="throws">throws</font> <font id="identifier">IOException</font>
<font id="line-number">60 </font><a name="60"></a>    <font id="left-brace">{</font>
<font id="line-number">61 </font><a name="61"></a>        <font id="if">if</font> <font id="left-paren">(</font><font id="identifier">bAdditionalyPrintToStdOut</font><font id="right-paren">)</font> <font id="left-brace">{</font>
<font id="line-number">62 </font><a name="62"></a>            <a href="../../../de/general/log/MultiLogger.java.html" target="source-frame"><font id="identifier">MultiLogger</font></a> <font id="identifier">ml</font> <font id="assign">=</font> <font id="new">new</font> <a href="../../../de/general/log/MultiLogger.java.html" target="source-frame"><font id="identifier">MultiLogger</font></a><font id="left-paren">(</font><font id="identifier">defaultStdOutLogger</font><font id="comma">,</font> <font id="identifier">createLogger0</font><font id="left-paren">(</font><font id="right-paren">)</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">63 </font><a name="63"></a>            <font id="return">return</font> <font id="identifier">ml</font><font id="semi-colon">;</font>
<font id="line-number">64 </font><a name="64"></a>        <font id="right-brace">}</font> <font id="else">else</font> <font id="left-brace">{</font>
<font id="line-number">65 </font><a name="65"></a>            <font id="return">return</font> <font id="identifier">createLogger0</font><font id="left-paren">(</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">66 </font><a name="66"></a>        <font id="right-brace">}</font>
<font id="line-number">67 </font><a name="67"></a>    <font id="right-brace">}</font>
<font id="line-number">68 </font><a name="68"></a>
<font id="line-number">69 </font><a name="69"></a>    <font id="private">private</font> <a href="../../../de/general/log/ILogInterface.java.html" target="source-frame"><font id="identifier">ILogInterface</font></a> <a name="de.general.cfg.LogCfg.createLogger0"></a><font id="identifier">createLogger0</font><font id="left-paren">(</font><font id="right-paren">)</font> <font id="throws">throws</font> <font id="identifier">IOException</font>
<font id="line-number">70 </font><a name="70"></a>    <font id="left-brace">{</font>
<font id="line-number">71 </font><a name="71"></a>        <font id="single-line-comment">// new LogRotationFileLogInterface(IOUtils.makeAbsolutePath(globalLogDir, logFileName, true), true, logRotation);
<font id="line-number">72 </font><a name="72"></a></font>        <a href="../../../de/general/log/FileLogger.java.html" target="source-frame"><font id="identifier">FileLogger</font></a> <font id="identifier">fli</font> <font id="assign">=</font> <font id="new">new</font> <a href="../../../de/general/log/FileLogger.java.html" target="source-frame"><font id="identifier">FileLogger</font></a><font id="left-paren">(</font><a href="../../../de/general/io/IOUtils.java.html#de.general.io.IOUtils.makeAbsolutePath" target="source-frame"><font id="identifier">IOUtils</font><font id="dot">.</font><font id="identifier">makeAbsolutePath</font></a><font id="left-paren">(</font><font id="identifier">globalLogDir</font><font id="comma">,</font> <font id="identifier">logFileName</font><font id="right-paren">)</font><font id="comma">,</font> <font id="true">true</font><font id="right-paren">)</font><font id="semi-colon">;</font>
<font id="line-number">73 </font><a name="73"></a>
<font id="line-number">74 </font><a name="74"></a>        <font id="multi-line-comment">/*
<font id="line-number">75 </font><a name="75"></a>        fli.enableTimeStamping(true);
<font id="line-number">76 </font><a name="76"></a>        if (bDebugLogCalls) {
<font id="line-number">77 </font><a name="77"></a>            fli.showCallingInfo(true);
<font id="line-number">78 </font><a name="78"></a>            fli.debugLogOutput(true);
<font id="line-number">79 </font><a name="79"></a>        }
<font id="line-number">80 </font><a name="80"></a>        if (bCompressLogAfterRotation) {
<font id="line-number">81 </font><a name="81"></a>            fli.enableCompressionAfterRotation(true);
<font id="line-number">82 </font><a name="82"></a>        }
<font id="line-number">83 </font><a name="83"></a>        if (moveToDirAfterRotationDirPath != null) {
<font id="line-number">84 </font><a name="84"></a>            fli.setMoveToDirAfterRotationDirPath(IOUtils.makeAbsolutePath(globalLogDir, moveToDirAfterRotationDirPath, true));
<font id="line-number">85 </font><a name="85"></a>        }
<font id="line-number">86 </font><a name="86"></a>        FrameworkLogInterface log = new FrameworkLogInterface(name, fli);
<font id="line-number">87 </font><a name="87"></a>        */</font>
<font id="line-number">88 </font><a name="88"></a>        <font id="single-line-comment">//log.setLogLevel(logLevel);
<font id="line-number">89 </font><a name="89"></a></font><font id="single-line-comment">//      BufferedLogInterface2 bli = new BufferedLogInterface2();
<font id="line-number">90 </font><a name="90"></a></font><font id="single-line-comment">//      log.add(bli);
<font id="line-number">91 </font><a name="91"></a></font><font id="single-line-comment">//      logBuffers.add(new WeakReference&lt;BufferedLogInterface2&gt;(bli));
<font id="line-number">92 </font><a name="92"></a></font>        <font id="return">return</font> <font id="identifier">fli</font><font id="semi-colon">;</font>
<font id="line-number">93 </font><a name="93"></a>    <font id="right-brace">}</font>
<font id="line-number">94 </font><a name="94"></a>
<font id="line-number">95 </font><a name="95"></a><font id="right-brace">}</font></pre>
<table id="footer" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="20%">&nbsp;</td>
<td align="center" colspan="2" width="60%">
<font size="4"><a href="http://www.javadoq.com" target="_blank">JavaDoq</a>: LogCfg.java</font>
</td>
<td align="right" colspan="2" width="20%">&nbsp;</td>
</tr>
</table>
</body>
</html>
